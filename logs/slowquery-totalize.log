
# 40.1s user time, 50ms system time, 31.40M rss, 39.28M vsz
# Current date: Wed Jun  8 13:20:34 2022
# Hostname: ip-10-0-0-56
# Files: /home/isucon/webapp/mysql/logs/mysql-slow.log
# Overall: 676.22k total, 39 unique, 5.68k QPS, 3.06x concurrency ________
# Time range: 2022-06-08T13:18:07 to 2022-06-08T13:20:06
# Attribute          total     min     max     avg     95%  stddev  median
# ============     ======= ======= ======= ======= ======= ======= =======
# Exec time           364s     2us      7s   538us     2ms    11ms   138us
# Lock time             2s       0    29ms     2us     1us    68us     1us
# Rows sent          1.75M       0 252.74k    2.71    0.99  305.47    0.99
# Rows examine      78.00M       0  19.76M  120.95   72.65  24.59k    2.90
# Query size        87.82M       6   1.68k  136.17  284.79   93.19   97.36

# Profile
# Rank Query ID                     Response time Calls  R/Call V/M   Item
# ==== ============================ ============= ====== ====== ===== ====
#    1 0x40BA718A3112C61FB0C2179... 69.4347 19.1% 151270 0.0005  0.00 SELECT playlist user playlist_song
#    2 0x3B7F9C3BFD4303564EFFC05... 63.4008 17.4%   8460 0.0075  0.00 INSERT playlist_favorite
#    3 0xEC063962A0903583D4BF22B... 62.8513 17.2% 136919 0.0005  0.01 SELECT playlist_favorite
#    4 0xD3D79AC2E339745D16FD77E... 32.7418  9.0% 133380 0.0002  0.00 SELECT playlist_favorite
#    5 0x0C7853719E9897E59B57F2A... 32.3888  8.9%  20259 0.0016  0.01 SELECT playlist_song song artist
#    6 0x8AFB70E4EF33ECB86281555... 29.1118  8.0% 116659 0.0002  0.00 SELECT playlist_song
#    7 0xEF4E32253D50FC6205E21CE... 16.9911  4.7%  40547 0.0004  0.00 SELECT playlist
#    8 0xFE201CF788CDAF0ED135116...  8.5563  2.3%  31123 0.0003  0.00 SELECT user
#    9 0xA1D549827369435D2D6B8F3...  7.3837  2.0%    661 0.0112  0.05 SELECT playlist_favorite playlist user
#   10 0xBB803527F0B05ED37FAF2BB...  6.8701  1.9%      1 6.8701  0.00 DELETE SELECT playlist_song playlist
#   11 0xA254C292FAE6619AA8CCE1B...  4.2704  1.2%    453 0.0094  0.01 UPDATE user
#   12 0x7AB57DAE0FB77B087E0D134...  4.1327  1.1%      1 4.1327  0.00 DELETE SELECT playlist_favorite playlist
#   13 0x4FFEDD9537D4E9B44DEB7A2...  3.9582  1.1%      1 3.9582  0.00 SELECT playlist_favorite
#   14 0x3B4267C2E0B52599C84C779...  3.3171  0.9%    864 0.0038  0.01 SELECT playlist user
#   15 0x0A24D4A57D22B71F538F1AE...  3.1849  0.9%   8777 0.0004  0.00 SELECT song
# MISC 0xMISC                       15.8283  4.3%  26842 0.0006   0.0 <24 ITEMS>

# Query 1: 2.22k QPS, 1.02x concurrency, ID 0x40BA718A3112C61FB0C217930D97E29F at byte 221124025
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         22  151270
# Exec time     19     69s   106us    41ms   459us     2ms   981us   185us
# Lock time     21   362ms       0    11ms     2us     1us    46us     1us
# Rows sent      8 147.72k       1       1       1       1       0       1
# Rows examine   7   6.23M       0      79   43.18   72.65   22.54   46.83
# Query size    46  41.22M     282     286  285.71  284.79       2  284.79
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ######
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'user'\G
#    SHOW CREATE TABLE `isucon_listen80`.`user`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_song'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_song`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT p.*, u.display_name AS 'user.display_name', u.account AS `user.account`, u.is_ban AS `user.is_ban`, COUNT(ps.playlist_id) AS song_count FROM playlist AS p LEFT JOIN user AS u ON p.user_account = u.account LEFT JOIN playlist_song AS ps ON p.id = ps.playlist_id WHERE `id` = 80348\G

# Query 2: 124.41 QPS, 0.93x concurrency, ID 0x3B7F9C3BFD4303564EFFC05B3903B6C4 at byte 145480706
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8460
# Exec time     17     63s     2ms    78ms     7ms    15ms     5ms     6ms
# Lock time      1    19ms       0     3ms     2us     1us    29us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0       0       0       0       0       0       0       0
# Query size     1   1.25M     144     168  154.48  158.58    4.34  151.03
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  #############
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_favorite'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_favorite`\G
INSERT INTO playlist_favorite (`playlist_id`, `favorite_user_account`, `created_at`) VALUES (250017, 'amountforceitself', '2022-06-08 13:19:12.151704638')\G

# Query 3: 2.01k QPS, 0.92x concurrency, ID 0xEC063962A0903583D4BF22B4F6620A35 at byte 213547167
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         20  136919
# Exec time     17     63s    60us   147ms   459us     1ms     2ms   119us
# Lock time     19   320ms       0     8ms     2us     1us    47us     1us
# Rows sent      7 133.71k       1       1       1       1       0       1
# Rows examine  51  39.83M       0  14.67k  305.06   1.53k   1.63k    6.98
# Query size    10   9.25M      67      72   70.87   69.19    1.35   69.19
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us  ############
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_favorite'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_favorite`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS cnt FROM playlist_favorite where playlist_id = 30044\G

# Query 4: 1.96k QPS, 0.48x concurrency, ID 0xD3D79AC2E339745D16FD77E13E6AC90F at byte 162372857
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         19  133380
# Exec time      8     33s    44us    51ms   245us   725us   795us    93us
# Lock time     16   281ms       0     9ms     2us     1us    41us     1us
# Rows sent      7 130.25k       1       1       1       1       0       1
# Rows examine   0  20.43k       0       1    0.16    0.99    0.36       0
# Query size    17  14.98M     103     134  117.80  124.25    5.57  112.70
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us  ################################################################
# 100us  ###################################################
#   1ms  ####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_favorite'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_favorite`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS cnt FROM playlist_favorite where favorite_user_account = 'entirephonecompare' AND playlist_id = 79830\G

# Query 5: 297.93 QPS, 0.48x concurrency, ID 0x0C7853719E9897E59B57F2AB15A3EBE3 at byte 161890018
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          2   20259
# Exec time      8     32s   113us   100ms     2ms     7ms     4ms   490us
# Lock time      3    64ms       0     3ms     3us     1us    41us     1us
# Rows sent     44 804.32k       0      79   40.65   72.65   22.66   40.45
# Rows examine   3   2.36M       0     237  121.96  212.52   67.78  124.25
# Query size     6   5.50M     281     285  284.84  284.79       2  284.79
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  ################################################################
#   1ms  ######################
#  10ms  ##
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_song'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_song`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'song'\G
#    SHOW CREATE TABLE `isucon_listen80`.`song`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'artist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`artist`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT s.ulid `song.ulid`, s.title `song.title`, a.name `artist.name`, s.album `song.album`, s.track_number `song.track_number`, s.is_public `song.is_public` FROM playlist_song ps LEFT JOIN song s ON ps.song_id = s.id LEFT JOIN artist a ON s.artist_id = a.id WHERE playlist_id = 233434\G

# Query 6: 1.72k QPS, 0.43x concurrency, ID 0x8AFB70E4EF33ECB862815558CB07356A at byte 221075865
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count         17  116659
# Exec time      7     29s    58us    34ms   249us   725us   581us   119us
# Lock time     14   239ms       0     5ms     2us     1us    32us     1us
# Rows sent      6 113.92k       1       1       1       1       0       1
# Rows examine   4   3.34M       0      79   30.05   72.65   25.70   26.08
# Query size     8   7.42M      63      68   66.71   65.89    1.36   65.89
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us  #########
# 100us  ################################################################
#   1ms  ##
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_song'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_song`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT COUNT(*) AS cnt FROM playlist_song where playlist_id = 364466\G

# Query 7: 596.28 QPS, 0.25x concurrency, ID 0xEF4E32253D50FC6205E21CEE5B40F6F1 at byte 213307674
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          5   40547
# Exec time      4     17s    71us    66ms   419us     1ms     1ms   138us
# Lock time      5   100ms       0     3ms     2us     1us    34us     1us
# Rows sent      2  39.60k       0       1    1.00    0.99    0.00    0.99
# Rows examine   0  39.60k       0       1    1.00    0.99    0.00    0.99
# Query size     2   2.55M      66      66      66      66       0      66
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM playlist WHERE `ulid` = '01FXCXWH085A6SEYDJ09S6V0AV'\G

# Query 8: 457.69 QPS, 0.13x concurrency, ID 0xFE201CF788CDAF0ED13511641E92D414 at byte 124754280
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          4   31123
# Exec time      2      9s    53us    33ms   274us   839us   790us    98us
# Lock time      4    77ms       0     8ms     2us     1us    55us     1us
# Rows sent      1  30.39k       1       1       1       1       0       1
# Rows examine   0  30.39k       1       1       1       1       0       1
# Query size     1   1.65M      46      70   55.67   59.77    3.84   54.21
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us  ##################################################
# 100us  ################################################################
#   1ms  #####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'user'\G
#    SHOW CREATE TABLE `isucon_listen80`.`user`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM user WHERE `account` = 'typeactionbase'\G

# Query 9: 9.72 QPS, 0.11x concurrency, ID 0xA1D549827369435D2D6B8F3232875C93 at byte 213508560
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.05
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     661
# Exec time      2      7s   239us   228ms    11ms    44ms    23ms     4ms
# Lock time      0     2ms     1us   234us     2us     1us     9us     1us
# Rows sent      1  28.50k       0      70   44.14   54.21    8.08   42.48
# Rows examine   0 173.22k       0     419  268.35  313.99   42.23  258.32
# Query size     0 310.73k     473     496  481.38  487.09    5.19  463.90
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #
#   1ms  ################################################################
#  10ms  ###############
# 100ms  #
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_favorite'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_favorite`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'user'\G
#    SHOW CREATE TABLE `isucon_listen80`.`user`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT p.ulid AS `playlist.ulid`, p.name AS `playlist.name`, p.is_public AS `playlist.is_public`, p.created_at AS `playlist.created_at`, p.updated_at AS `playlist.updated_at`, u.display_name AS `user.display_name`, u.account AS `user.account` FROM playlist_favorite pf LEFT JOIN playlist p ON pf.playlist_id = p.id LEFT JOIN user u ON p.user_account = u.account WHERE favorite_user_account = 'callteachbelieve' AND p.is_public = true AND u.is_ban = false ORDER BY p.created_at DESC\G

# Query 10: 0 QPS, 0x concurrency, ID 0xBB803527F0B05ED37FAF2BBD29AD2CB4 at byte 2342
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-06-08T13:18:18
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      1      7s      7s      7s      7s      7s       0      7s
# Lock time      0     6us     6us     6us     6us     6us       0     6us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine  25  19.76M  19.76M  19.76M  19.76M  19.76M       0  19.76M
# Query size     0      76      76      76      76      76       0      76
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms
#    1s  ################################################################
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_song'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_song`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist`\G
DELETE FROM playlist_song WHERE playlist_id NOT IN (SELECT id FROM playlist)\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select * from  playlist_song WHERE playlist_id NOT IN (SELECT id FROM playlist)\G

# Query 11: 6.76 QPS, 0.06x concurrency, ID 0xA254C292FAE6619AA8CCE1B27E2380C8 at byte 176903205
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:34
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     453
# Exec time      1      4s     3ms    62ms     9ms    17ms     9ms     7ms
# Lock time      0   644us       0    84us     1us     1us     4us     1us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   0     453       1       1       1       1       0       1
# Query size     0  44.70k      92     115  101.04  107.34    4.05   97.36
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms  ################################################################
#  10ms  ########################
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'user'\G
#    SHOW CREATE TABLE `isucon_listen80`.`user`\G
UPDATE user SET last_logined_at = '2022-06-08 13:19:19.831269666' WHERE account = 'environmentinvestmentcentral'\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select  last_logined_at = '2022-06-08 13:19:19.831269666' from user where  account = 'environmentinvestmentcentral'\G

# Query 12: 0 QPS, 0x concurrency, ID 0x7AB57DAE0FB77B087E0D1340C39A97AD at byte 2646
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-06-08T13:18:22
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      1      4s      4s      4s      4s      4s       0      4s
# Lock time      0    11us    11us    11us    11us    11us       0    11us
# Rows sent      0       0       0       0       0       0       0       0
# Rows examine   3   2.75M   2.75M   2.75M   2.75M   2.75M       0   2.75M
# Query size     0     122     122     122     122     122       0     122
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms
#    1s  ################################################################
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_favorite'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_favorite`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist`\G
DELETE FROM playlist_favorite WHERE playlist_id NOT IN (SELECT id FROM playlist) OR '2022-05-13 09:00:00.000' < created_at\G
# Converted for EXPLAIN
# EXPLAIN /*!50100 PARTITIONS*/
select * from  playlist_favorite WHERE playlist_id NOT IN (SELECT id FROM playlist) OR '2022-05-13 09:00:00.000' < created_at\G

# Query 13: 0 QPS, 0x concurrency, ID 0x4FFEDD9537D4E9B44DEB7A24247FE1ED at byte 2995
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: all events occurred at 2022-06-08T13:18:26
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0       1
# Exec time      1      4s      4s      4s      4s      4s       0      4s
# Lock time      0     1us     1us     1us     1us     1us       0     1us
# Rows sent     14 252.74k 252.74k 252.74k 252.74k 252.74k       0 252.74k
# Rows examine   3   2.99M   2.99M   2.99M   2.99M   2.99M       0   2.99M
# Query size     0     113     113     113     113     113       0     113
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us
#   1ms
#  10ms
# 100ms
#    1s  ################################################################
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist_favorite'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist_favorite`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT playlist_id, count(*) AS favorite_count FROM playlist_favorite GROUP BY playlist_id ORDER BY count(*) DESC\G

# Query 14: 12.71 QPS, 0.05x concurrency, ID 0x3B4267C2E0B52599C84C77950B3BD9BF at byte 200809844
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.01
# Time range: 2022-06-08T13:18:27 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          0     864
# Exec time      0      3s   600us    56ms     4ms    12ms     5ms     2ms
# Lock time      0     2ms       0   332us     2us     1us    12us     1us
# Rows sent      4  84.38k     100     100     100     100       0     100
# Rows examine   0 171.60k     200     214  203.38  202.40    4.77  192.76
# Query size     0 313.88k     372     372     372     372       0     372
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us
# 100us  #######
#   1ms  ################################################################
#  10ms  ######
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'playlist'\G
#    SHOW CREATE TABLE `isucon_listen80`.`playlist`\G
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'user'\G
#    SHOW CREATE TABLE `isucon_listen80`.`user`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT p.*, u.account AS 'user.account', u.display_name AS 'user.display_name', u.password_hash AS 'user.password_hash', u.is_ban AS 'user.is_ban', u.created_at AS 'user.created_at', u.last_logined_at AS 'user.last_logined_at' FROM playlist as p INNER JOIN user as u on p.user_account = u.account where p.is_public = 1 and u.is_ban = 0 ORDER BY p.created_at DESC LIMIT 100\G

# Query 15: 132.98 QPS, 0.05x concurrency, ID 0x0A24D4A57D22B71F538F1AE200CFCE54 at byte 221069663
# This item is included in the report because it matches --limit.
# Scores: V/M = 0.00
# Time range: 2022-06-08T13:18:29 to 2022-06-08T13:19:35
# Attribute    pct   total     min     max     avg     95%  stddev  median
# ============ === ======= ======= ======= ======= ======= ======= =======
# Count          1    8777
# Exec time      0      3s    76us    36ms   362us     1ms   934us   131us
# Lock time      1    18ms       0     2ms     2us     1us    25us     1us
# Rows sent      0   8.57k       1       1       1       1       0       1
# Rows examine   0   8.57k       1       1       1       1       0       1
# Query size     0 531.42k      62      62      62      62       0      62
# String:
# Databases    isucon_listen80
# Hosts        webapp-app-1.webapp_default
# Users        isucon
# Query_time distribution
#   1us
#  10us  #
# 100us  ################################################################
#   1ms  ####
#  10ms  #
# 100ms
#    1s
#  10s+
# Tables
#    SHOW TABLE STATUS FROM `isucon_listen80` LIKE 'song'\G
#    SHOW CREATE TABLE `isucon_listen80`.`song`\G
# EXPLAIN /*!50100 PARTITIONS*/
SELECT * FROM song WHERE `ulid` = '01G2Y874ZWNN4WWB9T5ZA56JHS'\G
